bool SIONonTerminalNode::parse_leaf(SIOTokenWalker& walker, SIONSymbol* target)
{
	SIOToken* token = walker.pop();
	if (token != nullptr)
	{
		target = new SIONSymbol(token, this);

#ifdef SIO_DEBUG
		if (token->type == SIOTokenType::IDENTIFIER)
		{
			string s;
			if (SIOStringMapper::global_mapper()->load_str(token->value, s))
			{
				dot_debugger().create_and_close_node("ID", s);
			}
			else
			{
				dot_debugger().create_and_close_node("ID_RAW", token->value);
			}
			
		}
		else
		{
			dot_debugger().create_and_close_node("Value", token->value);
		}
#endif // SIO_DEBUG

		return true;
	}
	
	return false;
}